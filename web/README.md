# CoinReal Web Application

币圈大众点评 - 首个让用户通过评论与点赞即可赚取加密货币奖励的去中心化内容社区

## 📁 项目结构

```
web/
├── app/                    # Next.js App Router 页面
│   ├── create-project/     # 创建项目页面
│   ├── docs/              # 帮助文档页面
│   ├── leaderboard/       # 排行榜页面
│   ├── pools/             # 奖池页面
│   ├── projects/          # 项目列表和详情页面
│   ├── user/              # 用户中心页面
│   ├── globals.css        # 全局样式
│   ├── layout.tsx         # 根布局
│   └── page.tsx           # 首页
├── components/             # 可复用组件
│   ├── ui/                # UI 组件库
│   ├── comment-section.tsx
│   ├── navigation.tsx
│   ├── project-info.tsx
│   ├── project-layout.tsx
│   ├── providers.tsx      # Web3 Providers 组件
│   ├── sponsor-dialog.tsx
│   └── wallet-connect.tsx
├── hooks/                  # 自定义 React Hooks
│   ├── use-project.ts     # 项目相关操作
│   └── use-wallet.ts      # 钱包相关操作
├── lib/                   # 工具库和配置
│   ├── mock-data.ts       # 模拟数据
│   ├── utils.ts           # 通用工具函数
│   └── wagmi.ts           # Wagmi 配置
├── types/                 # TypeScript 类型定义
│   └── index.ts           # 全局类型
├── utils/                 # 业务工具函数
│   └── format.ts          # 格式化函数
├── constants/             # 常量定义
│   └── chains.ts          # 区块链配置
└── package.json           # 项目依赖
```

## 🚀 技术栈

- **框架**: Next.js 15.2.4 with App Router
- **样式**: Tailwind CSS 4.0
- **组件库**: Radix UI + Lucide React
- **Web3**: Wagmi + Viem
- **状态管理**: TanStack Query
- **TypeScript**: 完整类型支持

## 📦 依赖管理

项目使用 pnpm 进行依赖管理，主要依赖包括：

### 核心依赖
- `next`: React 框架
- `react`: UI 库
- `typescript`: 类型支持

### Web3 相关
- `wagmi`: React Hooks for Ethereum
- `viem`: 低级 Ethereum 库
- `@tanstack/react-query`: 异步状态管理

### UI 组件
- `@radix-ui/*`: 无障碍组件原语
- `lucide-react`: 图标库
- `tailwindcss`: CSS 框架

## 🛠️ 开发规范

### 文件命名
- 组件文件使用 kebab-case: `wallet-connection.tsx`
- Hook 文件使用 kebab-case: `use-wallet.ts`
- 类型文件使用 kebab-case: `index.ts`
- 常量文件使用 kebab-case: `chains.ts`

### 代码组织
- 每个功能模块都有对应的 hook
- 类型定义集中在 `types/` 目录
- 常量配置集中在 `constants/` 目录
- 工具函数按功能分类在 `utils/` 目录

### 组件设计
- 使用 TypeScript 严格模式
- 组件导出使用命名导出
- Props 接口定义在组件文件顶部
- 组件内部状态最小化，优先使用 hooks

## 🌐 支持的区块链网络

- Anvil 本地网络 (开发测试)
- Ethereum 主网
- Sepolia 测试网
- Polygon
- BSC (Binance Smart Chain)  
- Arbitrum

## 📖 使用指南

### 安装依赖
```bash
pnpm install
```

### 启动开发服务器
```bash
pnpm dev
```

### 构建生产版本
```bash
pnpm build
```

### 代码检查
```bash
pnpm lint
```

## 🔧 配置说明

### 钱包连接
项目使用简化的钱包连接方案：
- 仅支持 injected 连接器（MetaMask 等浏览器钱包）
- 无需配置 WalletConnect Project ID
- 支持多链自动检测和切换

### Wagmi 配置
在 `lib/wagmi.ts` 中配置支持的链和连接器。

### 本地开发
启动 Anvil 本地网络进行开发测试：
```bash
anvil
```

## 🎯 核心功能

1. **简化钱包连接**: 支持 injected 钱包连接（MetaMask 等）
2. **多链支持**: 自动检测和切换网络，包括 Anvil 本地测试
3. **项目展示**: 加密货币项目列表和详情
4. **评论系统**: 发表评论和点赞功能
5. **奖池管理**: 查看和管理奖金池
6. **用户中心**: 个人资产和活动记录

## 📱 响应式设计

- 移动优先的设计理念
- 支持各种屏幕尺寸
- 现代化的 UI/UX 体验

## 🔍 项目特色

- **简化架构**: 采用 injected 连接器，减少配置复杂度
- **类型安全**: 完整的 TypeScript 支持
- **SSR 兼容**: 解决 hydration 问题，支持服务端渲染
- **本地开发友好**: 内置 Anvil 本地网络支持
- **组件化**: 高度模块化的组件设计
- **性能优化**: 使用 React Query 缓存和 Next.js 优化

## �� 产品概述

### 产品定位

**"币圈大众点评"** — 首个让用户通过评论与点赞即可赚取加密货币奖励的去中心化内容社区（CoinReal）

### 核心价值主张

- **评论即得收益**
  - 持有相应项目代币（如BTC）即可在对应栏目发布评论，自动获得 5 枚"评论Token"。
  - 评论被点赞后，额外增发"评论Token"，优质内容更能获得高额分红。
- **点赞也能赚币**
  - 只要钱包资产等值 ≥ 100 美元（USDC 计），即可给评论点赞并获得"点赞Token"。
  - 点赞者凭"点赞Token"参与瓜分奖池，鼓励社区用户积极发现并支持优质评论。
- **动态奖池与早期加权**
  - 奖池分为 "基础奖励" 和 "精英奖励" 两部分：
    - 基础奖励按所有 Token 平均分，保障人人有份。
    - 精英奖励专门激励早期获得高赞的**精选评论**，进一步提升头部内容价值。
  - 早期评论/点赞可享时间加权，防止"后发获利"现象，让最先发现价值的用户得到额外回报。
- **项目方低成本传播**
  - 项目方只需在栏目中设置少量奖金，即可激活社区讨论和点赞，让用户自发产生内容与传播，替代传统广告投放。
  - 支持项目方自行抵押质押、联动平台空投，为冷门项目提供"冷启动补贴"，确保新上线栏目也能获得初期流量与互动。
- **链上防刷与声誉体系**（预言机验证）
  - 评论者必须持有相应项目代币，点赞者需满足 ≥ 100 美金的资产门槛，显著降低机器人或水军刷票风险。
  - 所有互动行为记录链上，可积累"声誉值"并用于未来抽奖、治理或专属 NFT 空投，真正形成社区自治与长效激励。

### 目标用户

#### 加密货币投资者与爱好者（不懂技术的散户）

- 喜欢分享观点、讨论项目动态，希望不仅"分享"还能"赚钱"。

#### 加密项目方与市场团队（技术团队）

- 预算有限但想快速获取真实社区反馈、低成本触达目标用户。

#### DeFi 分析师与 Web3 内容创作者（网红、媒体）

- 通过专业点评积累声誉与粉丝，同时享受评论与点赞带来的经济收益。

---

## 网页设计布局（页面+路由）

### 一、首页 / Landing Page

1. **广告区**

   * **是什么**：币圈专属的内容社区平台

   * **为什么选择我们**：

     * AI 自动打标签，提高信息检索准确度

     * Chainlink 预言机＋智能合约保证奖金流向完全透明

   * **技术亮点**：

     * AI 标签体系：对评论进行主题与情感分类

     * Chainlink 预言机：实时获取预言机数据并上链验证

     * 合约全开源：奖金池与分发逻辑公开可查

   * **平台数据速览**：

     * 已创建栏目数量：**XX 个**

     * 累计评论次数：**XX 条**

     * 已发放奖金总额：**XX USDC**

2. **栏目入口（两个大按钮）**

   * **查看与互动**：开始浏览热门栏目，点赞或发表评论

   * **项目方入口**：申请并创建新栏目，设立专属奖池

3. **热门栏目 & 热门评论预览**

   * 以卡片形式展示几个最受欢迎的栏目与高赞评论

   * 仅作内容预览，点击卡片可跳转至相应栏目详情页

4. **关于我们（页脚）**

   * 简要介绍团队背景与愿景

   * 显示假数据示例，便于留白占位（页脚链接可自行替换）

### 二、栏目详情页 / Projects

1. **整体布局参考**

   * **左侧（1/5 宽度）**：固定导航栏

   * **中部（3/5 宽度）**：评论列表（可滚动加载）

   * **右侧（1/5 宽度）**：栏目基本信息与奖金活动状态

2. **项目列表页 /project**

   * 左侧导航保持一致

   * 右侧以三列多行展示所有栏目卡片

   * 每个栏目卡片包含：Logo、栏目名称、简短说明、当前奖池金额

3. **单个栏目详情 /project/eth**

   * **顶部**：栏目 Logo + 栏目名称

   * **左侧导航（1/5）**：固定不动，与项目列表页一致

   * **中部评论区（3/5）**：

     * 置顶"发表评论"输入框，方便用户快速互动

     * 下方显示评论卡片：点赞按钮 + 点赞数、评论内容、发布时间、评论者身份（持币门槛验证状态）

   * **右侧信息栏（1/5）**：

     * 当前栏目简介（如项目简介、社区链接）

     * 奖金活动信息：

       * 奖池总额、剩余时间

       * 奖池分配规则（普通评论 / 精英评论 / 点赞者奖励比例）

     * 用户参与状态（已评论／已点赞提示）

### 三、个人主页 /User

1. **整体布局**

   * **左侧（1/5）**：与其他页面保持一致的导航栏

   * **中部（3/5）**：个人数据与动态信息展示

   * **右侧（1/5）**：详细个人统计

2. **中部：个人信息面板**

   * **姓名或昵称**

   * **已领取奖金总额**（USDC 或对应代币）

   * **待揭晓交互 Token 数量**及对应 **预计可领取奖金**（按当前预估比例显示）

   * **最近动态**（可选）：

     * 最近参与的栏目名称及状态

     * 最新获赞评论预览

3. **右侧：详细个人统计**

   * **累计评论次数**

   * **累计点赞次数**

   * **当前持有"评论Token"总数**

   * **当前持有"点赞Token"总数**

> **备注**：
>
> * 页面采用三栏布局，导航栏固定在左侧，保证各入口一致性。
>
> * 所有交互按钮（点赞、发表评论、申请新栏目）均放在显眼位置，减少操作成本，提升用户留存。
>
> * 右侧信息栏仅用于展示上下文相关数据，便于用户快速了解栏目或个人状态。

